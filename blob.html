<!DOCTYPE html>
<html>

<head>
    <title>blob example</title>

    <script src="script/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="script/script.js"></script>
    <script src='script/blob_script.js' type='text/javascript'></script>


    <script>
        window.onbeforeunload = function() {
            alert("test");
        }


        $(document).ready(function() {



            setTimeout(function() {
                $(".showbox").css("transition", "all 0.5s ease-in-out 0s").css("opacity", "1");
            }, 50);


            var vid = document.getElementById("video");
            vid.playbackRate = 3;

            var videowidth = $("#video").innerWidth();
            $(".videolayer").css("width", videowidth);

            $.fn.textWidth = function() {
                var self = $(this),
                    children = self.children(),
                    calculator = $('<span style="display: inline-block;">'),
                    width;

                children.wrap(calculator);
                width = children.parent().width();
                return width;
            };

            $(function() {
                var welcome = $("#welcome");
                var len = welcome.textWidth();
                var lenfinal = len - 40; // damit es sch√∂ner aussieht noch paar pixel abziehen
                $("#welcomeunderline").css("width", lenfinal);
                var bodymin = len + 10;
                $("#body").css("min-width", bodymin);
            });


            $(function() {
                var titel = $(".titel");
                var titellen = titel.textWidth();
                var titellenfinal = titellen - 40;
                $(".titelunderline").css("width", titellenfinal);
            });





            $(window).scroll(function() {
                var height = $('.underline2').offset();
                var current = $(window).scrollTop();
                if (current < height.top) {
                    $(".underline2").css("opacity", "1").css("transition", "all 0.3s ease-in-out 0s").css("transform", "scaleX(1)");
                } else {
                    $(".underline2").css("transition", "all 0.3s ease-in-out 0s").css("opacity", "0");
                    $(".underline2").css("transition", "all 0.0s ease-in-out 0s").css("transform", "scaleX(0)");
                }
            });

        }); //document ready end

        $(function() {
            //  "use strict"
            $("#video").on("loadeddata", function() {
                document.getElementById('video').focus();

                $("#video").css("transition", "all 0.5s ease-in-out 0s").css("opacity", "1");
                setTimeout(function() {
                    $(".videoblur").css("transition", "all 0.5s ease-in-out 0s").css("filter", "blur(0px");
                }, 100);

                setTimeout(function() {
                    $("#video").css("transition", "all 0s ease-in-out 0s");
                }, 500);

                setTimeout(function() {
                    $(".backblur").css("transition", "all 0.5s ease-in-out 0s").css("filter", "blur(0px");
                }, 200);

                setTimeout(function() {
                    $(".underline").css("opacity", "1").css("transition", "all 0.3s ease-in-out 0s").css("transform", "scaleX(1)");
                }, 300);

                $(".showbox").css("transition", "all 0.2s ease-in-out 0s").hide();

                /*
                // https://www.mediengestalter.info/forum/10/div-beim-scrollen-ein-bzw-ausblenden-152250-1.html
                $(window).scroll(function(){
                  var height = $('.underline').offset();
                  var current = $(window).scrollTop();
                  if( current < height.top ){
                  $(".underline").css("opacity", "1").css("transition", "all 0.3s ease-in-out 0s").css("transform", "scaleX(1)");
                  } else {
                    $(".underline").css("transition", "all 0.3s ease-in-out 0s").css("opacity", "0");
                    $(".underline").css("transition", "all 0.0s ease-in-out 0s").css("transform", "scaleX(0)");
                  }
                });
                */


            });
        }); //video loaded end
    </script>

    <noscript>
    <meta http-equiv="refresh" content="0; url=http://localhost:8080/jsactive.html">
  </noscript>


    <link rel="stylesheet" href="css/style_login.css">
    <link rel="stylesheet" href="css/blob_style.css">
    <link rel="stylesheet" href="css/loading_spinner1.css">


</head>

<body id="body">
    <div class="main">
        <div class="mainloginform">
            <div class="mainlogincontainer">
                <!--
        <div class="logo">
          <img src="http://www.kcmweb.de/conferences/uploads/conferences/Hobart/Star_Alliance_logo.png" height="70%" draggable="false" style="margin-top: -7;">
        </div>
        -->
                <h1 id="headingtext" style="text-align: center;">createObjectURL(<b>blob</b>)-Example</h1>
                <p class="subtext" id="headingsubtext" style="text-align: center;">Create an .mp4-Video with a blob-URL</p>
                <div id="welcomeunderline">
                    <div class="underline"></div>
                </div>
            </div>
            <div class="formmain" role="presentation">
                <div class="formcontent formcontent2 formcontent3" role="presentation">
                    <div style="padding-left: 40px; padding-right: 40px; padding-bottom: 20px;">
                        <!--<div class="grauu" style=" background-color: grey; height: 400px; width: 700px;"></div>-->
                        <!--<div class="loader" style="position: absolute; text-align: center; margin-left: auto; margin-right: auto; left: 0; right: 0; margin-top: 146px;">Loading...</div>-->
                        <div class="showbox">
                            <div class="loader">
                                <svg class="circular" viewBox="25 25 50 50">
                      <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
                    </svg>
                            </div>
                        </div>
                        <div class="videoblur" style="filter: blur(20px);">
                            <video controls muted preload autofocus tabindex="1" id="video"></video>
                        </div>
                    </div>

                    <!--
            <div class="form">
              <div class="email">
                <input type="email" class="inputemail" jsname="YPqjbf" autocomplete="username" spellcheck="false" tabindex="1" aria-label="E-Mail oder Telefonnummer" name="username" id="loginemail" dir="ltr" data-initial-dir="ltr" data-initial-value="" autofocus>
                <div class="greytextinform" aria-hidden="true" style="padding-bottom: 20px;">E-Mail oder Telefonnummer</div>
                <div class="under" style="margin-bottom: 20px;"></div>
                <div class="underanimation" style="margin-bottom: 20px;"></div>
                <div class="feldleer" style="opacity: 0;">E-Mail-Adresse oder Telefonnummer eingeben</div>
              </div>
              <div class="email2">
                <input type="password" class="inputemail2" autocomplete="password" spellcheck="false" tabindex="2" aria-label="Passwort oder PIN" name="password" id="loginemail2" dir="ltr" data-initial-dir="ltr" data-initial-value="">
                <div class="greytextinform2" aria-hidden="true" style="padding-bottom: 20px;">Passwort oder PIN</div>
                <div class="under2" style="margin-bottom: 20px;"></div>
                <div class="underanimation2" style="margin-bottom: 20px;"></div>
                <div class="feldleer" style="opacity: 0;">Passwort oder PIN eingeben</div>
              </div>
              <div style="height: 40px;"></div>
              <button type="button" class="hrefbutton funktionnichtda">E-Mail-Adresse vergessen?</button>
            </div>
          -->
                    <!--
            <div class="weiter">
              <div role="button" class="weiterbutton">
                <content class="buttontext">
                  <span class="spanbuttontext funktionnichtda" tabindex="3">Anmelden</span>
                </content>
              </div>
              <div class="moreoptions hrefbutton funktionnichtda">Weitere Optionen</div>
            </div>
          -->
                </div>
            </div>
        </div>
    </div>


    <div class="backblur" style="filter: blur(20px);">
        <div class="back" aria-hidden="true">
            <img alt="back" src="img/back.svg" draggable="false" style="width: 100%; height: 100%;">
        </div>
    </div>
    <footer>
    </footer>

</body>

</html>